## Сумма элементов вектора

# Ссылка на google colab:

https://colab.research.google.com/drive/1-qNH7OvaBSDp_7ev4OYK0j9DlXxXM_CR?usp=sharing


# Описание реализации:
  - функция суммы элементов вектора на CPU:
    последовательное сложение элементов в цикле и запись в отдельную переменную.
  - функция суммы элементов вектора на GPU:
    общее число потоков равно размерность вектора /2.
    в ядре происходит суммирование определенных элементов вектора для каждого потока
    (начиная с элемента, индекс которого равен общему номеру нити, с шагом, равному числу нитей 
    в гриде). Когда суммирование закончится, полученное значение для каждого потока будет записано в массив output (его размерность равна числу потоков).
    После этого в ядре повторно обрабатывается вектор, но уже не с исходными значениями, а со значениями из массива output. 
    Цикл данных операций будет продолжаться до тех пор, пока число нитей не будет равно 1 (то есть все локальные суммы будут сложены. Таким образом, будут подсчитаны все элементы вектора).

# Почему было распараллелено:
Обработка векторов больших размерностей последовательной программой занимает достаточно много времени, по сравнению с параллельной, что можно увидеть из проделанных экспериментов ниже. Из таблицы видно, что при небольшой размерности вектора предпочтение следует отдавать последовательной программе на CPU, поскольку она быстрее обрабатывает вектор. При достижении размерности вектора ~30000 значения времени на CPU и GPU сравниваются, после чего время выполнения на GPU становится в несколько раз меньше, чем на CPU. При размерности вектора ~1,9 млн ускорение составляет около 12 раз.

Из графиков, ссылка на которые приведена ниже, видно, что рост времени программы на CPU, носит линейный характер, а рост времени программы на GPU (можно предположить) носит логарифмический характер. Ускорение же, как было сказано ранее, по началу растет с небольшой скоростью, но после достижения определенной размерности, стремительно возрастает.

# Таблица с данными об эксперименте.

| Размерность матриц  | Время выполнения на CPU  | Время выполнения на GPU| Ускорение |
|:------------------- |:------------------------:|:----------------------:| ---------:|
| 1000                | 0,000003                 | 0,000056               | 0,061444  |
| 5000                | 0,000015                 | 0,000069               | 0,221439  |
| 25000               | 0,000074                 | 0,000095               | 0,775658  |
| 30000               | 0,000088                 | 0,000082               | 1,082584  |
| 75000               | 0,000229                 | 0,000113               | 2,016076  |
| 375000              | 0,001128                 | 0,000228               | 4,958227  |
| 1875000             | 0,005627                 | 0,000465               | 12,102431 |


# Ссылка на графики:
https://docs.google.com/spreadsheets/d/1uEOOqOQdhnRrJ3aa4-wxrRwVxkIVey06DAuiATSeX5c/edit?usp=sharing
